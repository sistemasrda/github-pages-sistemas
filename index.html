<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Inventario</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
        }
        h1 {
            text-align: center;
        }
        form {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }
        label {
            font-weight: bold;
        }
        input, select {
            padding: 8px;
            width: 100%;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            padding: 10px;
            background-color: #28a745;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 4px;
        }
        button:hover {
            background-color: #218838;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 30px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
        }
        th {
            background-color: #f2f2f2;
        }
        #searchSection {
            margin-bottom: 20px;
        }
        .baja {
            background-color: red;
            color: white;
        }
        .reasignado {
            background-color: green;
            color: white;
        }
        #pdfButton {
            background-color: #007bff;
        }
        #pdfButton:hover {
            background-color: #0069d9;
        }
    </style>
</head>
<body>

<h1>Sistema de InventariO TI</h1>

<div id="searchSection">
    <input type="text" id="searchInput" placeholder="Buscar por nombre de usuario" oninput="buscar()">
</div>

<form id="formEquipo">
    <label for="nombreUsuario">Nombre de Usuario:</label>
    <input type="text" id="nombreUsuario" required>

    <label for="numeroEmpleado">Número de Empleado:</label>
    <input type="text" id="numeroEmpleado" required>

    <label for="empresa">Empresa:</label>
    <select id="empresa" required>
        <option value="Representaciones de audio">Representaciones de audio</option>
        <option value="Equipos y Cintas">Equipos y Cintas</option>
        <option value="Ampere">Ampere</option>
    </select>

    <label for="puesto">Puesto:</label>
    <input type="text" id="puesto" required>

    <label for="area">Área:</label>
    <input type="text" id="area" required>

    <label for="tipoEquipo">Tipo de Equipo:</label>
    <input type="text" id="tipoEquipo" required>

    <label for="modelo">Modelo:</label>
    <input type="text" id="modelo" required>

    <label for="marca">Marca:</label>
    <input type="text" id="marca" required>

    <label for="numeroSerie">Número de Serie:</label>
    <input type="text" id="numeroSerie" required>

    <label for="ram">RAM:</label>
    <input type="text" id="ram" required>

    <label for="almacenamiento">Almacenamiento:</label>
    <input type="text" id="almacenamiento" required>

    <label for="ip">IP:</label>
    <input type="text" id="ip" required>

    <label for="ipWifi">IP Wifi:</label>
    <input type="text" id="ipWifi" required>

    <label for="mac">MAC:</label>
    <input type="text" id="mac" required>

    <label for="idProducto">ID del Producto:</label>
    <input type="text" id="idProducto" required>

    <label for="hostname">Hostname:</label>
    <input type="text" id="hostname" required>

    <label for="usuarioSAP">Usuario SAP:</label>
    <input type="text" id="usuarioSAP" required>

    <label for="tipoLicenciaSAP">Tipo de Licencia SAP:</label>
    <input type="text" id="tipoLicenciaSAP" required>

    <label for="clickView">ClickView:</label>
    <input type="text" id="clickView" required>

    <label for="kitTecladoMouse">Kit Teclado y Mouse:</label>
    <input type="text" id="kitTecladoMouse" required>

    <label for="monitor">Monitor:</label>
    <input type="text" id="monitor" required>

    <label for="baseLaptop">Base para Laptop:</label>
    <input type="text" id="baseLaptop" required>

    <label for="modeloTelefono">Modelo de Teléfono:</label>
    <input type="text" id="modeloTelefono" required>

    <label for="macTelefono">MAC Teléfono:</label>
    <input type="text" id="macTelefono" required>

    <label for="extension">Extensión:</label>
    <input type="text" id="extension" required>

    <label for="marcaCelular">Marca de Celular:</label>
    <input type="text" id="marcaCelular" required>

    <label for="modeloCelular">Modelo de Celular:</label>
    <input type="text" id="modeloCelular" required>

    <label for="ipCelular">IP Celular:</label>
    <input type="text" id="ipCelular" required>

    <label for="macCelular">MAC Celular:</label>
    <input type="text" id="macCelular" required>

    <label for="otros">Otros:</label>
    <input type="text" id="otros">

    <button type="button" onclick="guardarEquipo()">Guardar</button>
    <button type="button" id="pdfButton" onclick="generarPDF()">Generar PDF</button>
</form>

<div>
    <h2>Dashboard</h2>
    <table id="tablaEquipos">
        <thead>
            <tr>
                <th>Nombre de Usuario</th>
                <th>Número de Empleado</th>
                <th>Empresa</th>
                <th>Puesto</th>
                <th>Área</th>
                <th>Tipo de Equipo</th>
                <th>Modelo</th>
                <th>Marca</th>
                <th>Número de Serie</th>
                <th>RAM</th>
                <th>Almacenamiento</th>
                <th>IP</th>
                <th>IP Wifi</th>
                <th>MAC</th>
                <th>ID del Producto</th>
                <th>Hostname</th>
                <th>Usuario SAP</th>
                <th>Tipo de Licencia SAP</th>
                <th>ClickView</th>
                <th>Kit Teclado y Mouse</th>
                <th>Monitor</th>
                <th>Base para Laptop</th>
                <th>Modelo de Teléfono</th>
                <th>MAC Teléfono</th>
                <th>Extensión</th>
                <th>Marca de Celular</th>
                <th>Modelo de Celular</th>
                <th>IP Celular</th>
                <th>MAC Celular</th>
                <th>Otros</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            <!-- Aquí se llenarán los datos -->
        </tbody>
    </table>
</div>

<script>
    const equipos = [];
    let editIndex = -1;

    function guardarEquipo() {
        const equipo = {
            nombreUsuario: document.getElementById('nombreUsuario').value,
            numeroEmpleado: document.getElementById('numeroEmpleado').value,
            empresa: document.getElementById('empresa').value,
            puesto: document.getElementById('puesto').value,
            area: document.getElementById('area').value,
            tipoEquipo: document.getElementById('tipoEquipo').value,
            modelo: document.getElementById('modelo').value,
            marca: document.getElementById('marca').value,
            numeroSerie: document.getElementById('numeroSerie').value,
            ram: document.getElementById('ram').value,
            almacenamiento: document.getElementById('almacenamiento').value,
            ip: document.getElementById('ip').value,
            ipWifi: document.getElementById('ipWifi').value,
            mac: document.getElementById('mac').value,
            idProducto: document.getElementById('idProducto').value,
            hostname: document.getElementById('hostname').value,
            usuarioSAP: document.getElementById('usuarioSAP').value,
            tipoLicenciaSAP: document.getElementById('tipoLicenciaSAP').value,
            clickView: document.getElementById('clickView').value,
            kitTecladoMouse: document.getElementById('kitTecladoMouse').value,
            monitor: document.getElementById('monitor').value,
            baseLaptop: document.getElementById('baseLaptop').value,
            modeloTelefono: document.getElementById('modeloTelefono').value,
            macTelefono: document.getElementById('macTelefono').value,
            extension: document.getElementById('extension').value,
            marcaCelular: document.getElementById('marcaCelular').value,
            modeloCelular: document.getElementById('modeloCelular').value,
            ipCelular: document.getElementById('ipCelular').value,
            macCelular: document.getElementById('macCelular').value,
            otros: document.getElementById('otros').value,
        };

        if (editIndex === -1) {
            equipos.push(equipo);
        } else {
            equipos[editIndex] = equipo;
            editIndex = -1;
        }
        
        mostrarEquipos();
        document.getElementById('formEquipo').reset();
    }

    function mostrarEquipos() {
        const tablaEquipos = document.getElementById('tablaEquipos').getElementsByTagName('tbody')[0];
        tablaEquipos.innerHTML = ''; // Limpiar tabla

        equipos.forEach((equipo, index) => {
            const fila = tablaEquipos.insertRow();
            for (const prop in equipo) {
                const celda = fila.insertCell();
                celda.textContent = equipo[prop];
            }

            // Botones para editar y eliminar
            const celdaAcciones = fila.insertCell();
            const botonEditar = document.createElement('button');
            botonEditar.textContent = 'Editar';
            botonEditar.onclick = () => editarEquipo(index);
            celdaAcciones.appendChild(botonEditar);

            const botonEliminar = document.createElement('button');
            botonEliminar.textContent = 'Eliminar';
            botonEliminar.onclick = () => eliminarEquipo(index);
            celdaAcciones.appendChild(botonEliminar);

            // Cambiar color según el estado
            if (equipo.estado === 'reasignado') {
                fila.classList.add('reasignado');
            } else if (equipo.estado === 'baja') {
                fila.classList.add('baja');
            }
        });
    }

    function buscar() {
        const query = document.getElementById('searchInput').value.toLowerCase();
        const tablaEquipos = document.getElementById('tablaEquipos').getElementsByTagName('tbody')[0];
        const filas = tablaEquipos.getElementsByTagName('tr');

        for (let i = 0; i < filas.length; i++) {
            const celdaNombreUsuario = filas[i].cells[0].textContent.toLowerCase();
            filas[i].style.display = celdaNombreUsuario.includes(query) ? '' : 'none';
        }
    }

    function editarEquipo(index) {
        const equipo = equipos[index];
        document.getElementById('nombreUsuario').value = equipo.nombreUsuario;
        document.getElementById('numeroEmpleado').value = equipo.numeroEmpleado;
        document.getElementById('empresa').value = equipo.empresa;
        document.getElementById('puesto').value = equipo.puesto;
        document.getElementById('area').value = equipo.area;
        document.getElementById('tipoEquipo').value = equipo.tipoEquipo;
        document.getElementById('modelo').value = equipo.modelo;
        document.getElementById('marca').value = equipo.marca;
        document.getElementById('numeroSerie').value = equipo.numeroSerie;
        document.getElementById('ram').value = equipo.ram;
        document.getElementById('almacenamiento').value = equipo.almacenamiento;
        document.getElementById('ip').value = equipo.ip;
        document.getElementById('ipWifi').value = equipo.ipWifi;
        document.getElementById('mac').value = equipo.mac;
        document.getElementById('idProducto').value = equipo.idProducto;
        document.getElementById('hostname').value = equipo.hostname;
        document.getElementById('usuarioSAP').value = equipo.usuarioSAP;
        document.getElementById('tipoLicenciaSAP').value = equipo.tipoLicenciaSAP;
        document.getElementById('clickView').value = equipo.clickView;
        document.getElementById('kitTecladoMouse').value = equipo.kitTecladoMouse;
        document.getElementById('monitor').value = equipo.monitor;
        document.getElementById('baseLaptop').value = equipo.baseLaptop;
        document.getElementById('modeloTelefono').value = equipo.modeloTelefono;
        document.getElementById('macTelefono').value = equipo.macTelefono;
        document.getElementById('extension').value = equipo.extension;
        document.getElementById('marcaCelular').value = equipo.marcaCelular;
        document.getElementById('modeloCelular').value = equipo.modeloCelular;
        document.getElementById('ipCelular').value = equipo.ipCelular;
        document.getElementById('macCelular').value = equipo.macCelular;
        document.getElementById('otros').value = equipo.otros;
        editIndex = index;
    }

    function eliminarEquipo(index) {
        equipos.splice(index, 1);
        mostrarEquipos();
    }

    function generarPDF() {
        let contenido = '<h1>Inventario de Equipos</h1><table><thead><tr>';
        contenido += '<th>Nombre de Usuario</th><th>Número de Empleado</th><th>Empresa</th><th>Puesto</th><th>Área</th>';
        contenido += '<th>Tipo de Equipo</th><th>Modelo</th><th>Marca</th><th>Número de Serie</th><th>RAM</th>';
        contenido += '<th>Almacenamiento</th><th>IP</th><th>IP Wifi</th><th>MAC</th>';
        contenido += '<th>ID del Producto</th><th>Hostname</th><th>Usuario SAP</th><th>Tipo de Licencia SAP</th>';
        contenido += '<th>ClickView</th><th>Kit Teclado y Mouse</th><th>Monitor</th><th>Base para Laptop</th>';
        contenido += '<th>Modelo de Teléfono</th><th>MAC Teléfono</th><th>Extensión</th>';
        contenido += '<th>Marca de Celular</th><th>Modelo de Celular</th><th>IP Celular</th><th>MAC Celular</th>';
        contenido += '<th>Otros</th></tr></thead><tbody>';

        equipos.forEach(equipo => {
            contenido += '<tr>';
            for (const prop in equipo) {
                contenido += `<td>${equipo[prop]}</td>`;
            }
            contenido += '</tr>';
        });

        contenido += '</tbody></table>';

        const ventana = window.open('', '', 'width=800,height=600');
        ventana.document.write('<html><head><title>Inventario PDF</title>');
        ventana.document.write('<style>table { width: 100%; border-collapse: collapse; } th, td { border: 1px solid #ddd; padding: 8px; }</style>');
        ventana.document.write('</head><body>');
        ventana.document.write(contenido);
        ventana.document.write('</body></html>');
        ventana.document.close();
        ventana.print();
    }
</script>

</body>
</html>
