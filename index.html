<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Inventario</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            position: relative;
            overflow: hidden;
        }
        .background-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
        }
        .container {
            position: relative;
            z-index: 1;
            padding: 20px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            padding: 10px;
            border: 1px solid #ddd;
            text-align: left;
        }
        .reasignado {
            background-color: #d4edda; /* Verde claro */
        }
        .baja {
            background-color: #f8d7da; /* Rojo claro */
        }
    </style>
</head>
<body>

<video class="background-video" autoplay loop muted>
    <source src="3129595-uhd_3840_2160_30fps.mp4" type="video/mp4">
    Tu navegador no soporta videos.
</video>

<div class="container">
    <h1>Sistema de Inventario</h1>
    <form id="formEquipo">
        <input type="text" id="nombreUsuario" placeholder="Nombre de usuario" required>
        <input type="text" id="numeroEmpleado" placeholder="Número de empleado" required>
        <select id="empresa" required>
            <option value="">Seleccionar Empresa</option>
            <option value="Representaciones de audio">Representaciones de audio</option>
            <option value="Equipos">Equipos</option>
            <option value="Cintas">Cintas</option>
            <option value="Ampere">Ampere</option>
        </select>
        <input type="text" id="puesto" placeholder="Puesto" required>
        <input type="text" id="area" placeholder="Área" required>
        <input type="text" id="tipoEquipo" placeholder="Tipo de equipo" required>
        <input type="text" id="modelo" placeholder="Modelo" required>
        <input type="text" id="marca" placeholder="Marca" required>
        <input type="text" id="numeroSerie" placeholder="Número de serie" required>
        <input type="text" id="ram" placeholder="RAM" required>
        <input type="text" id="almacenamiento" placeholder="Almacenamiento" required>
        <input type="text" id="ip" placeholder="IP" required>
        <input type="text" id="ipWifi" placeholder="IP Wifi" required>
        <input type="text" id="mac" placeholder="MAC" required>
        <input type="text" id="idProducto" placeholder="ID del producto" required>
        <input type="text" id="hostname" placeholder="Hostname" required>
        <input type="text" id="usuarioSAP" placeholder="Usuario SAP" required>
        <input type="text" id="tipoLicenciaSAP" placeholder="Tipo de Licencia SAP" required>
        <input type="text" id="clickView" placeholder="ClickView" required>
        <input type="text" id="kitTecladoMouse" placeholder="Kit Teclado y Mouse" required>
        <input type="text" id="monitor" placeholder="Monitor" required>
        <input type="text" id="baseLaptop" placeholder="Base para Laptop" required>
        <input type="text" id="modeloTelefono" placeholder="Modelo de teléfono" required>
        <input type="text" id="macTelefono" placeholder="MAC teléfono" required>
        <input type="text" id="extension" placeholder="Extensión" required>
        <input type="text" id="marcaCelular" placeholder="Marca celular" required>
        <input type="text" id="modeloCelular" placeholder="Modelo celular" required>
        <input type="text" id="ipCelular" placeholder="IP celular" required>
        <input type="text" id="macCelular" placeholder="MAC celular" required>
        <input type="text" id="otros" placeholder="Otros">
        <select id="estado" required>
            <option value="reasignado">Reasignado</option>
            <option value="baja">Dado de baja</option>
        </select>
        <button type="button" onclick="guardarDatos()">Guardar</button>
        <button type="button" onclick="mostrarDatos()">Mostrar Datos</button>
        <button type="button" onclick="generarPDF()">Generar PDF</button>
    </form>

    <h2>Buscar por Nombre de Usuario</h2>
    <input type="text" id="searchInput" oninput="buscar()" placeholder="Buscar...">

    <table id="tablaEquipos">
        <thead>
            <tr>
                <th>Nombre de Usuario</th>
                <th>Número de Empleado</th>
                <th>Empresa</th>
                <th>Puesto</th>
                <th>Área</th>
                <th>Tipo de Equipo</th>
                <th>Modelo</th>
                <th>Marca</th>
                <th>Número de Serie</th>
                <th>RAM</th>
                <th>Almacenamiento</th>
                <th>IP</th>
                <th>IP Wifi</th>
                <th>MAC</th>
                <th>ID Producto</th>
                <th>Hostname</th>
                <th>Usuario SAP</th>
                <th>Tipo de Licencia SAP</th>
                <th>ClickView</th>
                <th>Kit Teclado y Mouse</th>
                <th>Monitor</th>
                <th>Base Laptop</th>
                <th>Modelo Teléfono</th>
                <th>MAC Teléfono</th>
                <th>Extensión</th>
                <th>Marca Celular</th>
                <th>Modelo Celular</th>
                <th>IP Celular</th>
                <th>MAC Celular</th>
                <th>Otros</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            <!-- Los equipos se agregarán aquí -->
        </tbody>
    </table>
</div>

<script>
    let equipos = [];
    let editIndex = -1;

    function guardarDatos() {
        const equipo = {
            nombreUsuario: document.getElementById('nombreUsuario').value,
            numeroEmpleado: document.getElementById('numeroEmpleado').value,
            empresa: document.getElementById('empresa').value,
            puesto: document.getElementById('puesto').value,
            area: document.getElementById('area').value,
            tipoEquipo: document.getElementById('tipoEquipo').value,
            modelo: document.getElementById('modelo').value,
            marca: document.getElementById('marca').value,
            numeroSerie: document.getElementById('numeroSerie').value,
            ram: document.getElementById('ram').value,
            almacenamiento: document.getElementById('almacenamiento').value,
            ip: document.getElementById('ip').value,
            ipWifi: document.getElementById('ipWifi').value,
            mac: document.getElementById('mac').value,
            idProducto: document.getElementById('idProducto').value,
            hostname: document.getElementById('hostname').value,
            usuarioSAP: document.getElementById('usuarioSAP').value,
            tipoLicenciaSAP: document.getElementById('tipoLicenciaSAP').value,
            clickView: document.getElementById('clickView').value,
            kitTecladoMouse: document.getElementById('kitTecladoMouse').value,
            monitor: document.getElementById('monitor').value,
            baseLaptop: document.getElementById('baseLaptop').value,
            modeloTelefono: document.getElementById('modeloTelefono').value,
            macTelefono: document.getElementById('macTelefono').value,
            extension: document.getElementById('extension').value,
            marcaCelular: document.getElementById('marcaCelular').value,
            modeloCelular: document.getElementById('modeloCelular').value,
            ipCelular: document.getElementById('ipCelular').value,
            macCelular: document.getElementById('macCelular').value,
            otros: document.getElementById('otros').value,
            estado: document.getElementById('estado').value
        };

        if (editIndex === -1) {
            equipos.push(equipo);
        } else {
            equipos[editIndex] = equipo;
            editIndex = -1;
        }

        document.getElementById('formEquipo').reset();
        mostrarDatos();
    }

    function mostrarDatos() {
        const tabla = document.getElementById('tablaEquipos').getElementsByTagName('tbody')[0];
        tabla.innerHTML = ''; // Limpiar tabla

        equipos.forEach((equipo, index) => {
            const row = tabla.insertRow();
            row.innerHTML = `
                <td>${equipo.nombreUsuario}</td>
                <td>${equipo.numeroEmpleado}</td>
                <td>${equipo.empresa}</td>
                <td>${equipo.puesto}</td>
                <td>${equipo.area}</td>
                <td>${equipo.tipoEquipo}</td>
                <td>${equipo.modelo}</td>
                <td>${equipo.marca}</td>
                <td>${equipo.numeroSerie}</td>
                <td>${equipo.ram}</td>
                <td>${equipo.almacenamiento}</td>
                <td>${equipo.ip}</td>
                <td>${equipo.ipWifi}</td>
                <td>${equipo.mac}</td>
                <td>${equipo.idProducto}</td>
                <td>${equipo.hostname}</td>
                <td>${equipo.usuarioSAP}</td>
                <td>${equipo.tipoLicenciaSAP}</td>
                <td>${equipo.clickView}</td>
                <td>${equipo.kitTecladoMouse}</td>
                <td>${equipo.monitor}</td>
                <td>${equipo.baseLaptop}</td>
                <td>${equipo.modeloTelefono}</td>
                <td>${equipo.macTelefono}</td>
                <td>${equipo.extension}</td>
                <td>${equipo.marcaCelular}</td>
                <td>${equipo.modeloCelular}</td>
                <td>${equipo.ipCelular}</td>
                <td>${equipo.macCelular}</td>
                <td>${equipo.otros}</td>
                <td>
                    <button onclick="editar(${index})">Editar</button>
                    <button onclick="eliminar(${index})">Eliminar</button>
                </td>
            `;

            // Cambiar color según el estado
            if (equipo.estado === "reasignado") {
                row.classList.add('reasignado');
            } else if (equipo.estado === "baja") {
                row.classList.add('baja');
            }
        });
    }

    function editar(index) {
        const equipo = equipos[index];
        document.getElementById('nombreUsuario').value = equipo.nombreUsuario;
        document.getElementById('numeroEmpleado').value = equipo.numeroEmpleado;
        document.getElementById('empresa').value = equipo.empresa;
        document.getElementById('puesto').value = equipo.puesto;
        document.getElementById('area').value = equipo.area;
        document.getElementById('tipoEquipo').value = equipo.tipoEquipo;
        document.getElementById('modelo').value = equipo.modelo;
        document.getElementById('marca').value = equipo.marca;
        document.getElementById('numeroSerie').value = equipo.numeroSerie;
        document.getElementById('ram').value = equipo.ram;
        document.getElementById('almacenamiento').value = equipo.almacenamiento;
        document.getElementById('ip').value = equipo.ip;
        document.getElementById('ipWifi').value = equipo.ipWifi;
        document.getElementById('mac').value = equipo.mac;
        document.getElementById('idProducto').value = equipo.idProducto;
        document.getElementById('hostname').value = equipo.hostname;
        document.getElementById('usuarioSAP').value = equipo.usuarioSAP;
        document.getElementById('tipoLicenciaSAP').value = equipo.tipoLicenciaSAP;
        document.getElementById('clickView').value = equipo.clickView;
        document.getElementById('kitTecladoMouse').value = equipo.kitTecladoMouse;
        document.getElementById('monitor').value = equipo.monitor;
        document.getElementById('baseLaptop').value = equipo.baseLaptop;
        document.getElementById('modeloTelefono').value = equipo.modeloTelefono;
        document.getElementById('macTelefono').value = equipo.macTelefono;
        document.getElementById('extension').value = equipo.extension;
        document.getElementById('marcaCelular').value = equipo.marcaCelular;
        document.getElementById('modeloCelular').value = equipo.modeloCelular;
        document.getElementById('ipCelular').value = equipo.ipCelular;
        document.getElementById('macCelular').value = equipo.macCelular;
        document.getElementById('otros').value = equipo.otros;
        document.getElementById('estado').value = equipo.estado;
        editIndex = index;
    }

    function eliminar(index) {
        equipos.splice(index, 1);
        mostrarDatos();
    }

    function buscar() {
        const query = document.getElementById('searchInput').value.toLowerCase();
        const tabla = document.getElementById('tablaEquipos').getElementsByTagName('tbody')[0];
        const filas = tabla.getElementsByTagName('tr');
        
        for (let i = 0; i < filas.length; i++) {
            const nombreUsuario = filas[i].getElementsByTagName('td')[0].innerText.toLowerCase();
            filas[i].style.display = nombreUsuario.includes(query) ? '' : 'none';
        }
    }

    function generarPDF() {
        let pdfContent = 'Sistema de Inventario\n\n';
        equipos.forEach((equipo) => {
            pdfContent += `Nombre de Usuario: ${equipo.nombreUsuario}\n`;
            pdfContent += `Número de Empleado: ${equipo.numeroEmpleado}\n`;
            pdfContent += `Empresa: ${equipo.empresa}\n`;
            pdfContent += `Puesto: ${equipo.puesto}\n`;
            pdfContent += `Área: ${equipo.area}\n`;
            pdfContent += `Tipo de Equipo: ${equipo.tipoEquipo}\n`;
            pdfContent += `Modelo: ${equipo.modelo}\n`;
            pdfContent += `Marca: ${equipo.marca}\n`;
            pdfContent += `Número de Serie: ${equipo.numeroSerie}\n`;
            pdfContent += `RAM: ${equipo.ram}\n`;
            pdfContent += `Almacenamiento: ${equipo.almacenamiento}\n`;
            pdfContent += `IP: ${equipo.ip}\n`;
            pdfContent += `IP Wifi: ${equipo.ipWifi}\n`;
            pdfContent += `MAC: ${equipo.mac}\n`;
            pdfContent += `ID Producto: ${equipo.idProducto}\n`;
            pdfContent += `Hostname: ${equipo.hostname}\n`;
            pdfContent += `Usuario SAP: ${equipo.usuarioSAP}\n`;
            pdfContent += `Tipo de Licencia SAP: ${equipo.tipoLicenciaSAP}\n`;
            pdfContent += `ClickView: ${equipo.clickView}\n`;
            pdfContent += `Kit Teclado y Mouse: ${equipo.kitTecladoMouse}\n`;
            pdfContent += `Monitor: ${equipo.monitor}\n`;
            pdfContent += `Base Laptop: ${equipo.baseLaptop}\n`;
            pdfContent += `Modelo Teléfono: ${equipo.modeloTelefono}\n`;
            pdfContent += `MAC Teléfono: ${equipo.macTelefono}\n`;
            pdfContent += `Extensión: ${equipo.extension}\n`;
            pdfContent += `Marca Celular: ${equipo.marcaCelular}\n`;
            pdfContent += `Modelo Celular: ${equipo.modeloCelular}\n`;
            pdfContent += `IP Celular: ${equipo.ipCelular}\n`;
            pdfContent += `MAC Celular: ${equipo.macCelular}\n`;
            pdfContent += `Otros: ${equipo.otros}\n\n`;
        });

        const blob = new Blob([pdfContent], { type: 'application/pdf' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'inventario.pdf';
        a.click();
        URL.revokeObjectURL(url);
    }
</script>

</body>
</html>
